# Moduł 2: Rozliczenie miesięczne

## Cel modułu
Umożliwienie generowania i zarządzania paragonami/fakturami wystawianymi co miesiąc dla najemcy.



## Podstawowe informacje na temat rozliczenia miesiecznego
*   ID najmu
*   rok rozliczenia
*   miesiąc rozliczenia
*   łączna kwota do zapłaty
*   status (wystawiony, zapłacony, niezapłacony)
*   data wystawienia
*   data zapłaty
*   składniki rozliczenia
  

## Składniki rozliczenia

Składniki rozliczenia mają być obiektem przetrzymywanym w bazie danych jako JSON. Obiekt ten powinien zawierać listę wszystkich pozycji, które składają się na łączną kwotę do zapłaty.W zależności od typu składnika opłaty będą one opisane różnymi informacjami, jednak wszystkie będą miały zawsze nastepujące pola:

* nazwa składnika
* kwota
* typ 
* status 


### Typy składników rozliczenia
1. **Czynsz** - składnik ten jest związany z najmem i jest opłacany co miesiąc. Kwota czynszu jest ustalana w momencie dodawania najmu i jest stała. 
2. **Opłaty licznikowe**  - po uzupełnieniu aktualnego stanu każdego z licznika liczona jest ilość zuzytych jednostek i mnożona przez cenę za jednostkę. 
3. **Inne opłaty** - opłaty te są dodawane ręcznie i mogą być różne w każdym miesiącu, powinny zawierać pole opisowe.

## Generowanie opłaty

W panelu najmu powinna się pojawić zakładka z rozliczeniem miesięcznym. W tej zakladce powinna być tabelka z już wpisanymi rozliczeniami miesięcznymi. Po kliknięciu na rozwijany wiersz tabeli powinna się pojawić lista składników rozliczenia. Po kliknięciu na przycisk "Generuj nowe rozliczenie" powinien się otworzyć modal z formularzem, w którym użytkownik może wybrać rok i miesiąc, dla których ma zostać wygenerowane nowe rozliczenie, powinna się  pojawić lista dodanych składników rozliczenia ( z domyślnie dodanym czynszem), powinny pojawić się pozycje dla kazdego z dodanych liczników z możliwością uzupełnienia aktualnego stanu, powinna być możliwośc oddania nowej pozycji do rozliczenia. Po potwierdzeniu powinno nastąpić generowanie nowego rozliczenia miesięcznego ze statusem oczekujące na opłatę. Przy zapisie danych powinna nastepić weryfikacja czy dla danego najmu i miesiącu nie istnieje już rozliczenie.




  



